{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\timetableCLone\\\\CS311S20PID25\\\\timetable_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\timetableCLone\\\\CS311S20PID25\\\\timetable_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\timetableCLone\\\\CS311S20PID25\\\\timetable_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\timetableCLone\\\\CS311S20PID25\\\\timetable_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\timetableCLone\\\\CS311S20PID25\\\\timetable_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\timetableCLone\\\\CS311S20PID25\\\\timetable_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Switch,Route,Redirect}from\"react-router-dom\";import'./App.css';import Pagination from\"./pagination\";import Classes from\"./timeTableInput/classes\";import ClassRooms from\"./timeTableInput/classrooms\";import Teachers from\"./timeTableInput/teachers\";import Courses from\"./timeTableInput/courses\";import TimeTable from\"./timeTableOutput/tableDesign2\";import{generateTableWithPost}from\"./http/api\";import Footer2 from\"./footer/footer2\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={classRooms:[],classes:[],teachers:[],courses:[],sessionsName:[],teachersName:[],generatedTimeTable:[],progressValue:0};_this.handleClassRooms=function(classRooms){_this.setState({classRooms:classRooms,progressValue:25});//setting the classRooms array and progress value in the state\n};_this.handleClasses=function(classes){var sessionsName=[];classes.map(function(clas){//map to iterate over classes\nsessionsName.push(clas[0]);//pushing the classes name into sessionsName\n});_this.setState({classes:classes,sessionsName:sessionsName,progressValue:50});//setting the classes, sessionName array and progress value in the state\n};_this.handleTeachers=function(teachers){var teachersName=[];teachers.map(function(teacher){//map to iterate over teachers\nteachersName.push(teacher[0]);//pushing the teacher name into sessionsName\n});_this.setState({teachers:teachers,teachersName:teachersName,progressValue:75});//setting values to the state\n};_this.handelCourses=function(courses){_this.setState({courses:courses,progressValue:100});//setting values to state\n};_this.generateTable=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,table;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// getting the values from state and making data object to send to the backend through api\ndata={classRooms:_this.state.classRooms,classes:_this.state.classes,courses:_this.state.courses,teachers:_this.state.teachers};//try and cath block to handle exceptions\n_context.prev=1;_context.next=4;return generateTableWithPost(data);case 4:table=_context.sent;//calling the function from api component \n_this.setState({generatedTimeTable:table,classRooms:[],classes:[],courses:[],teachers:[]});//setting values to state\nif(table.length===0){toast.error(\"Table Generate Error input fields are empty\");//if response length is 0 that mean empty data is sended to backend\n}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);//exception handling\ntoast.error(\"Table Generate Error: \"+_context.t0.message);//showing toast notification on exception in generating table\ncase 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _this;}_createClass(App,[{key:\"render\",///this part is going to render \nvalue:function render(){var _this2=this;var _this$state=this.state,teachersName=_this$state.teachersName,sessionsName=_this$state.sessionsName,generatedTimeTable=_this$state.generatedTimeTable,progressValue=_this$state.progressValue;//values from state\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(ToastContainer,{autoClose:5000,position:toast.POSITION.TOP_RIGHT}),/*#__PURE__*/React.createElement(Pagination,{onProgressValue:progressValue}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,render:function render(props){return/*#__PURE__*/React.createElement(ClassRooms,Object.assign({},props,{onClassRooms:_this2.handleClassRooms}));}}),progressValue===25?/*#__PURE__*/React.createElement(Route,{path:\"/home/classes\",exact:true,render:function render(props){return/*#__PURE__*/React.createElement(Classes,Object.assign({},props,{onClasses:_this2.handleClasses}));}}):null,progressValue===50?/*#__PURE__*/React.createElement(Route,{path:\"/home/teachers\",exact:true,render:function render(props){return/*#__PURE__*/React.createElement(Teachers,Object.assign({},props,{onHandleTeachers:_this2.handleTeachers}));}}):null,progressValue===75?/*#__PURE__*/React.createElement(Route,{path:\"/home/courses\",exact:true,render:function render(props){return/*#__PURE__*/React.createElement(Courses,Object.assign({},props,{onTeachersName:teachersName,onSessionsName:sessionsName,onCourses:_this2.handelCourses}));}}):null,progressValue===100?/*#__PURE__*/React.createElement(Route,{path:\"/home/table\",exact:true,render:function render(props){return/*#__PURE__*/React.createElement(TimeTable,Object.assign({},props,{onGenerateTable:_this2.generateTable,onGeneratedTimeTable:generatedTimeTable}));}}):null,/*#__PURE__*/React.createElement(Redirect,{to:\"/\"})),/*#__PURE__*/React.createElement(Footer2,null),\" \");}}]);return App;}(Component);export default App;//default export app componet to handle in index.js file","map":{"version":3,"sources":["D:/timetableCLone/CS311S20PID25/timetable_frontend/src/App.js"],"names":["React","Component","Switch","Route","Redirect","Pagination","Classes","ClassRooms","Teachers","Courses","TimeTable","generateTableWithPost","Footer2","ToastContainer","toast","App","state","classRooms","classes","teachers","courses","sessionsName","teachersName","generatedTimeTable","progressValue","handleClassRooms","setState","handleClasses","map","clas","push","handleTeachers","teacher","handelCourses","generateTable","data","table","length","error","message","POSITION","TOP_RIGHT","props"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Switch, Route, Redirect} from \"react-router-dom\";\r\n\r\nimport './App.css';\r\nimport Pagination from \"./pagination\";\r\nimport Classes from \"./timeTableInput/classes\";\r\nimport ClassRooms from \"./timeTableInput/classrooms\";\r\nimport Teachers from \"./timeTableInput/teachers\";\r\nimport Courses from \"./timeTableInput/courses\";\r\nimport TimeTable from \"./timeTableOutput/tableDesign2\";\r\nimport {generateTableWithPost} from \"./http/api\";\r\nimport Footer2 from \"./footer/footer2\";\r\n\r\n\r\nimport {ToastContainer, toast} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\n\r\n\r\nclass App extends Component {\r\n\r\n//state of component \r\n  state = {\r\n    classRooms: [], \r\n    classes: [],\r\n    teachers: [],\r\n    courses: [],\r\n    sessionsName: [],\r\n    teachersName: [],\r\n    generatedTimeTable: [],\r\n    progressValue: 0\r\n  }\r\n\r\n  // this method will be called by classRooms component when sumbit button clicked in that component\r\n  handleClassRooms = (classRooms) => {\r\n    this.setState({classRooms, progressValue: 25})  //setting the classRooms array and progress value in the state\r\n  }\r\n\r\n  // this method will be called by classes component when sumbit button clicked in that component\r\n  handleClasses = (classes) => {\r\n    const sessionsName = [];\r\n\r\n    classes.map(clas => {     //map to iterate over classes\r\n      sessionsName.push(clas[0]);   //pushing the classes name into sessionsName\r\n    })\r\n\r\n    this.setState({classes, sessionsName, progressValue: 50}) //setting the classes, sessionName array and progress value in the state\r\n  }\r\n\r\n  // this method will be called by teachers component when sumbit button clicked in that component\r\n  handleTeachers = (teachers) => {\r\n    const teachersName = [];\r\n    teachers.map(teacher => { //map to iterate over teachers\r\n      teachersName.push(teacher[0]);  //pushing the teacher name into sessionsName\r\n    })\r\n\r\n    this.setState({teachers, teachersName, progressValue: 75})  //setting values to the state\r\n  }\r\n\r\n  // this method will be called by courses component when sumbit button clicked in that component\r\n  handelCourses = (courses) => {\r\n    this.setState({courses, progressValue: 100})  //setting values to state\r\n  }\r\n\r\n  // this method will be called by table component when generateTable button clicked in that component\r\n  generateTable = async() => {\r\n    \r\n    // getting the values from state and making data object to send to the backend through api\r\n    const data = {\r\n      classRooms: this.state.classRooms,\r\n      classes: this.state.classes,\r\n      courses: this.state.courses,\r\n      teachers: this.state.teachers\r\n    }\r\n\r\n    //try and cath block to handle exceptions\r\n    try {\r\n      const table = await generateTableWithPost(data);    //calling the function from api component \r\n      this.setState({generatedTimeTable: table, classRooms: [], classes: [], courses: [], teachers: []})  //setting values to state\r\n\r\n      if(table.length === 0){\r\n        toast.error(\"Table Generate Error input fields are empty\");  //if response length is 0 that mean empty data is sended to backend\r\n      }\r\n\r\n    } catch (error) {     //exception handling\r\n      toast.error(\"Table Generate Error: \" + error.message);    //showing toast notification on exception in generating table\r\n    }\r\n  }\r\n  \r\n  ///this part is going to render \r\n  render(){\r\n    const {teachersName, sessionsName, generatedTimeTable, progressValue} = this.state; //values from state\r\n    \r\n    return (\r\n       <div className=\"App\">\r\n\r\n        {/* toast notification properties */}\r\n        <ToastContainer autoClose={5000} position={toast.POSITION.TOP_RIGHT} /> \r\n          \r\n        {/* <Route render = {(props) => < PrimarySearchAppBar {...props} />} /> */}\r\n        \r\n\r\n        {/* pagination component to track components and progress */}\r\n        <Pagination onProgressValue = {progressValue} />\r\n\r\n          {/* the componets in the switch will be handled according to path */}\r\n          <Switch>\r\n            {/* calling the PrimarySearchAppBar component and passing the mehtod reference to call from there*/}\r\n            \r\n            \r\n\r\n            {/* if url path matches to /home/classrooms then render this component */}\r\n            <Route path = \"/\" exact render = {(props) => < ClassRooms {...props} onClassRooms = {this.handleClassRooms} />} />\r\n            \r\n            {/* following compnents will be render on the bases of url path and \r\n              can be access if progress value will matched with the conditions and \r\n              passing the values or reference of methods to call from these component like handleClasses*/}\r\n              \r\n            {\r\n              progressValue === 25 ?                                  \r\n              <Route path = \"/home/classes\" exact render={(props) => < Classes {...props} onClasses = {this.handleClasses} />} />\r\n              : null\r\n            }\r\n\r\n            {\r\n              progressValue === 50 ? \r\n              <Route path = \"/home/teachers\" exact render = {(props) => <Teachers {...props} onHandleTeachers = {this.handleTeachers} />} />\r\n              : null\r\n            }\r\n            \r\n            {\r\n              progressValue === 75 ? \r\n              <Route path = \"/home/courses\" exact render = {(props) => <Courses {...props} onTeachersName = {teachersName} onSessionsName = {sessionsName} onCourses = {this.handelCourses} />} />\r\n              : null\r\n            }\r\n\r\n            {\r\n              progressValue === 100 ? \r\n              <Route path = \"/home/table\" exact render = {(props) => <TimeTable {...props} onGenerateTable = {this.generateTable} onGeneratedTimeTable = {generatedTimeTable} />} />\r\n              : null\r\n            }\r\n            {/* if didnot match any of above path then redirect that to this path */}\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        <Footer2 /> {/* footer of the application */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;   //default export app componet to handle in index.js file\r\n"]},"metadata":{},"sourceType":"module"}